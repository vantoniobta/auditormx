
  <div class="row">
    <div class="col-xs-12 col-sm-7 col-md-5 col-lg-5">
      <h1 class="page-title txt-color-blueDark"><i class="fa-fw fa fa-home"></i> PÃ©rfil de Usuario</h1>
    </div>
  </div>

<section class="row" >          

          <div class="col-md-12">

            <div class="panel panel-default">
                  <div class="panel-heading ">              
                    <span class="widget-icon"> 
                      <i class="fa fa-calendar"></i> 
                    </span>
                    <h2> Datos Personales </h2>                
                  </div>
                  <div class="panel-body">
                    <div class="padding-10">
                      

                      <form class="form-vertical" action="" method="post" id="formUser">                
                      <div class="form-group">
                        <input type="hidden" id="modeForm" name="modeForm" value="update">
                        <input type="hidden" id="userid" name="user[id]" value="<%-user.id %>">
                        <label class="control-label" for="name">Nombre: </label>
                        <div class="controls">
                          <input type="text" id="full_name" name="user[full_name]" value="<%-user.full_name %>" class="form-control" required="true"/>
                        </div>
                      </div>
                      <div class="form-group">
                        <label class="control-label" for="email">Email: </label>
                        <div class="controls">
                          <input type="email" id="email" name="user[email]" class="form-control" value="<%-user.email %>" required="true" autocomplete="off" class='disabled' readonly="true"/>
                        </div>
                      </div>

                      <div class="form-group">
                        <label class="control-label" for="inputPass">Password: </label>
                        <div class="controls">
                          <input type="password" id="password" name="user[password]"  autocomplete="off" class="form-control" disabled='disabled'><br>
                          <input type="checkbox" id="updatePass"  value="1" > Cambiar password
                        </div>
                      </div>

                      <div class="form-group">
                        <div class="controls">                          
                          <button type="submit" class="btn btn-default btn-small"><i class="glyphicon glyphicon-floppy-saved"> </i> Guardar</button>
                          <!--
                          <button type="button" id="btDeleteUser" class="btn btn-danger btn-small"><i class="glyphicon glyphicon-trash"> </i>Eliminar</button>
                          <button type="button" id="btNewUser" class="btn btn-success btn-small"><i class="glyphicon glyphicon-plus-sign"> </i>Nuevo</button>
                          -->
                        </div>
                      </div>
                    </form><!-- end suppliers form -->  

                   
                    </div>
                  </div>
              </div>             
            </div>          
          </div>
     </section>
                 

<script type="text/javascript">
  $('#password').attr('disabled',true);
    $('#updatePass').attr('checked',false);

     /*--- Enable Password Input Form -- */
    $('#updatePass').click(function(){
        if( this.checked ){
          $('#password').attr('disabled',false).attr('required',false);
        }else{
          $('#password').attr('disabled',true).attr('required',true);
        }
    })

    /*--- User Form Action -- */
    $('#formUser').submit(function(){
        window.sendForm();
        return false;
    });

    window.sendForm = function(){   
      var that = this; 
      var data = $('#formUser').serialize();
      $.post('/settings/save',data,function(resp){                 
          alert('Datos guardados correctamente!');
      });
  }

</script>
